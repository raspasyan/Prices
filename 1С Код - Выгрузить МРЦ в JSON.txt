Запрос = Новый Запрос("ВЫБРАТЬ
|	Номенклатура.Код,
|	Номенклатура.МинимальнаяРозничнаяЦенаПродажи КАК МРЦ
|ИЗ
|	Справочник.Номенклатура КАК Номенклатура
|ГДЕ
|	Номенклатура.МинимальнаяРозничнаяЦенаПродажи > 0");
РезультатЗапроса = Запрос.Выполнить();
Если Не РезультатЗапроса.Пустой() Тогда
	
	Выгрузка = РезультатЗапроса.Выгрузить();
	
	ОбъектJSON = Новый Массив();
	Для Каждого СтрокаВыгрузки Из Выгрузка Цикл
		ОбъектJSON.Добавить(Новый Структура("Код, МРЦ", СтрокаВыгрузки.Код, СтрокаВыгрузки.МРЦ));	
	КонецЦикла;
	
	Диалог = Новый ДиалогВыбораФайла(РежимДиалогаВыбораФайла.Сохранение);
	Диалог.Заголовок = "Выберите файл для сохранения:";
	Диалог.ПолноеИмяФайла = "Output.json";
	Диалог.Фильтр = "Java Script Notification Object (*.JSON)|*.json";

	Если Диалог.Выбрать() Тогда
				
		ЗаписьJSON = Новый ЗаписьJSON;
		ЗаписьJSON.ОткрытьФайл(Диалог.ПолноеИмяФайла, "UTF-8");
		ЗаписатьJSON(ЗаписьJSON, ОбъектJSON);
		ЗаписьJSON.Закрыть()
							
	КонецЕсли;
	
КонецЕсли;

